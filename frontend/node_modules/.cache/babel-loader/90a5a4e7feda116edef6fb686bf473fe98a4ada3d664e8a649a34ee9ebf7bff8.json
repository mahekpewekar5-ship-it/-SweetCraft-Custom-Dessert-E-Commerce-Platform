{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mhk\\\\cakeryapp\\\\src\\\\pages\\\\CustomizerPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { Container, Typography, Card, CardMedia, CardContent, FormControl, InputLabel, Select, MenuItem, Button, Box } from \"@mui/material\";\nimport { getProductById, getAllOptions, calculatePrice } from \"../api/products\";\nimport { addToCart } from \"../api/cart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CustomizerPage() {\n  _s();\n  const {\n    productId\n  } = useParams();\n  const navigate = useNavigate();\n  const [product, setProduct] = useState(null);\n  const [options, setOptions] = useState([]);\n  const [selectedOptions, setSelectedOptions] = useState({});\n  const [totalPrice, setTotalPrice] = useState(0);\n  useEffect(() => {\n    getProductById(productId).then(res => setProduct(res.data));\n    getAllOptions().then(res => setOptions(res.data));\n  }, [productId]);\n  useEffect(() => {\n    if (product) {\n      calculatePrice({\n        productId,\n        selectedOptions\n      }).then(res => setTotalPrice(res.data.total));\n    }\n  }, [selectedOptions, product]);\n  const handleOptionChange = (type, value) => {\n    setSelectedOptions(prev => ({\n      ...prev,\n      [type]: value\n    }));\n  };\n  const handleAddToCart = () => {\n    addToCart({\n      productId,\n      options: selectedOptions,\n      quantity: 1\n    }).then(() => {\n      alert(\"Added to cart!\");\n      navigate(\"/cart\");\n    });\n  };\n  if (!product) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      mt: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        display: \"flex\",\n        p: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n        component: \"img\",\n        sx: {\n          width: 300,\n          borderRadius: 2\n        },\n        image: product.image,\n        alt: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        sx: {\n          ml: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 3\n          },\n          children: options.map(opt => /*#__PURE__*/_jsxDEV(FormControl, {\n            sx: {\n              mt: 2,\n              minWidth: 200\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: opt.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedOptions[opt.type] || \"\",\n              label: opt.name,\n              onChange: e => handleOptionChange(opt.type, e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                children: /*#__PURE__*/_jsxDEV(\"em\", {\n                  children: \"None\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this), opt.values.map(val => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: val,\n                children: val\n              }, val, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)]\n          }, opt.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          sx: {\n            mt: 4\n          },\n          children: [\"Total: \\u20B9\", totalPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          sx: {\n            mt: 2\n          },\n          onClick: handleAddToCart,\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(CustomizerPage, \"pdORdbEKMrNUnqRblMfMFodLIBc=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CustomizerPage;\nvar _c;\n$RefreshReg$(_c, \"CustomizerPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","Container","Typography","Card","CardMedia","CardContent","FormControl","InputLabel","Select","MenuItem","Button","Box","getProductById","getAllOptions","calculatePrice","addToCart","jsxDEV","_jsxDEV","CustomizerPage","_s","productId","navigate","product","setProduct","options","setOptions","selectedOptions","setSelectedOptions","totalPrice","setTotalPrice","then","res","data","total","handleOptionChange","type","value","prev","handleAddToCart","quantity","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","sx","mt","display","p","component","width","borderRadius","image","alt","name","ml","variant","map","opt","minWidth","label","onChange","e","target","values","val","id","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/mhk/cakeryapp/src/pages/CustomizerPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Button,\r\n  Box,\r\n} from \"@mui/material\";\r\nimport { getProductById, getAllOptions, calculatePrice } from \"../api/products\";\r\nimport { addToCart } from \"../api/cart\";\r\n\r\nexport default function CustomizerPage() {\r\n  const { productId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [product, setProduct] = useState(null);\r\n  const [options, setOptions] = useState([]);\r\n  const [selectedOptions, setSelectedOptions] = useState({});\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n  useEffect(() => {\r\n    getProductById(productId).then((res) => setProduct(res.data));\r\n    getAllOptions().then((res) => setOptions(res.data));\r\n  }, [productId]);\r\n\r\n  useEffect(() => {\r\n    if (product) {\r\n      calculatePrice({ productId, selectedOptions }).then(\r\n        (res) => setTotalPrice(res.data.total)\r\n      );\r\n    }\r\n  }, [selectedOptions, product]);\r\n\r\n  const handleOptionChange = (type, value) => {\r\n    setSelectedOptions((prev) => ({ ...prev, [type]: value }));\r\n  };\r\n\r\n  const handleAddToCart = () => {\r\n    addToCart({ productId, options: selectedOptions, quantity: 1 }).then(() => {\r\n      alert(\"Added to cart!\");\r\n      navigate(\"/cart\");\r\n    });\r\n  };\r\n\r\n  if (!product) return <Typography>Loading...</Typography>;\r\n\r\n  return (\r\n    <Container sx={{ mt: 4 }}>\r\n      <Card sx={{ display: \"flex\", p: 2 }}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          sx={{ width: 300, borderRadius: 2 }}\r\n          image={product.image}\r\n          alt={product.name}\r\n        />\r\n        <CardContent sx={{ ml: 4 }}>\r\n          <Typography variant=\"h4\">{product.name}</Typography>\r\n\r\n          <Box sx={{ mt: 3 }}>\r\n            {options.map((opt) => (\r\n              <FormControl key={opt.id} sx={{ mt: 2, minWidth: 200 }}>\r\n                <InputLabel>{opt.name}</InputLabel>\r\n                <Select\r\n                  value={selectedOptions[opt.type] || \"\"}\r\n                  label={opt.name}\r\n                  onChange={(e) => handleOptionChange(opt.type, e.target.value)}\r\n                >\r\n                  <MenuItem value=\"\">\r\n                    <em>None</em>\r\n                  </MenuItem>\r\n                  {opt.values.map((val) => (\r\n                    <MenuItem key={val} value={val}>\r\n                      {val}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            ))}\r\n          </Box>\r\n\r\n          <Typography variant=\"h5\" sx={{ mt: 4 }}>\r\n            Total: â‚¹{totalPrice}\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            sx={{ mt: 2 }}\r\n            onClick={handleAddToCart}\r\n          >\r\n            Add to Cart\r\n          </Button>\r\n        </CardContent>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}