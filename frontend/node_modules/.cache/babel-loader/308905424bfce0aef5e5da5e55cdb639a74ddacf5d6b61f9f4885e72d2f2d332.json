{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mhk\\\\cakeryapp\\\\src\\\\CakeryApp\\\\Pages\\\\Checkout.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const navigate = useNavigate();\n  const [cartItems, setCartItems] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [customer, setCustomer] = useState({\n    name: \"\",\n    email: \"\",\n    address: \"\",\n    phone: \"\"\n  });\n  useEffect(() => {\n    axios.get(\"http://localhost:8080/api/cart\").then(res => {\n      setCartItems(res.data);\n      const sum = res.data.reduce((acc, item) => acc + item.totalPrice, 0);\n      setTotal(sum);\n    }).catch(err => console.log(err));\n  }, []);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCustomer(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handlePlaceOrder = () => {\n    const payload = {\n      customer,\n      items: cartItems,\n      total\n    };\n    axios.post(\"http://localhost:8080/api/orders\", payload).then(res => {\n      alert(\"Order placed successfully!\");\n      navigate(\"/\"); // back to home\n    }).catch(err => console.log(err));\n  };\n  if (cartItems.length === 0) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      padding: \"40px\"\n    },\n    children: \"Your cart is empty.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 38\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"40px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Name\",\n        value: customer.name,\n        onChange: handleChange,\n        style: {\n          width: \"100%\",\n          padding: \"10px\",\n          marginBottom: \"10px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: customer.email,\n        onChange: handleChange,\n        style: {\n          width: \"100%\",\n          padding: \"10px\",\n          marginBottom: \"10px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"address\",\n        placeholder: \"Address\",\n        value: customer.address,\n        onChange: handleChange,\n        style: {\n          width: \"100%\",\n          padding: \"10px\",\n          marginBottom: \"10px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"phone\",\n        placeholder: \"Phone\",\n        value: customer.phone,\n        onChange: handleChange,\n        style: {\n          width: \"100%\",\n          padding: \"10px\",\n          marginBottom: \"10px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Order Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), cartItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"15px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [item.name, \" x \", item.quantity, \" - \\u20B9\", item.totalPrice]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Total: \\u20B9\", total]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handlePlaceOrder,\n      style: {\n        background: \"#ff4b81\",\n        color: \"white\",\n        padding: \"12px 25px\",\n        borderRadius: \"8px\",\n        border: \"none\",\n        cursor: \"pointer\"\n      },\n      children: \"Place Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(Checkout, \"j1zGYPOULBEmT2GzdKAIPc9rssw=\", false, function () {\n  return [useNavigate];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","Checkout","_s","navigate","cartItems","setCartItems","total","setTotal","customer","setCustomer","name","email","address","phone","get","then","res","data","sum","reduce","acc","item","totalPrice","catch","err","console","log","handleChange","e","value","target","prev","handlePlaceOrder","payload","items","post","alert","length","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","type","placeholder","onChange","width","map","index","quantity","onClick","background","color","borderRadius","border","cursor","_c","$RefreshReg$"],"sources":["C:/Users/mhk/cakeryapp/src/CakeryApp/Pages/Checkout.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Checkout = () => {\r\n  const navigate = useNavigate();\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  const [customer, setCustomer] = useState({ name: \"\", email: \"\", address: \"\", phone: \"\" });\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:8080/api/cart\")\r\n      .then(res => {\r\n        setCartItems(res.data);\r\n        const sum = res.data.reduce((acc, item) => acc + item.totalPrice, 0);\r\n        setTotal(sum);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCustomer(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handlePlaceOrder = () => {\r\n    const payload = {\r\n      customer,\r\n      items: cartItems,\r\n      total\r\n    };\r\n\r\n    axios.post(\"http://localhost:8080/api/orders\", payload)\r\n      .then(res => {\r\n        alert(\"Order placed successfully!\");\r\n        navigate(\"/\"); // back to home\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  if (cartItems.length === 0) return <p style={{ padding: \"40px\" }}>Your cart is empty.</p>;\r\n\r\n  return (\r\n    <div style={{ padding: \"40px\" }}>\r\n      <h2>Checkout</h2>\r\n\r\n      <div style={{ marginBottom: \"20px\" }}>\r\n        <input type=\"text\" name=\"name\" placeholder=\"Name\" value={customer.name} onChange={handleChange} style={{ width: \"100%\", padding: \"10px\", marginBottom: \"10px\" }} />\r\n        <input type=\"email\" name=\"email\" placeholder=\"Email\" value={customer.email} onChange={handleChange} style={{ width: \"100%\", padding: \"10px\", marginBottom: \"10px\" }} />\r\n        <input type=\"text\" name=\"address\" placeholder=\"Address\" value={customer.address} onChange={handleChange} style={{ width: \"100%\", padding: \"10px\", marginBottom: \"10px\" }} />\r\n        <input type=\"text\" name=\"phone\" placeholder=\"Phone\" value={customer.phone} onChange={handleChange} style={{ width: \"100%\", padding: \"10px\", marginBottom: \"10px\" }} />\r\n      </div>\r\n\r\n      <h3>Order Summary</h3>\r\n      {cartItems.map((item, index) => (\r\n        <div key={index} style={{ marginBottom: \"15px\" }}>\r\n          <p>{item.name} x {item.quantity} - ₹{item.totalPrice}</p>\r\n        </div>\r\n      ))}\r\n\r\n      <h3>Total: ₹{total}</h3>\r\n      <button onClick={handlePlaceOrder} style={{ background: \"#ff4b81\", color: \"white\", padding: \"12px 25px\", borderRadius: \"8px\", border: \"none\", cursor: \"pointer\" }}>\r\n        Place Order\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}